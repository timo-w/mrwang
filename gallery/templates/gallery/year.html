{% extends "base.html" %}
{% load static %}

{% block title %}Photography{% endblock %}

{% block css %}
<link rel="stylesheet" href="{% static 'gallery/css/gallery.css' %}">
{% endblock %}

{% block content %}
<div class="content">

    <div>
        <a href="{% url 'gallery_home' %}" class="back-button">&lt; Back to <b>Gallery</b></a>
    </div>

    <h1>Photos from {{ year }}</h1>
    <p>Click a photo to view the full image.</p>
    <hr>

    {% if photos %}
        <div class="gallery">
            {% for photo in photos %}
                <img 
                    src="{{ photo.thumbnail.url }}" 
                    data-full="{{ photo.image.url }}"
                    data-location="{{ photo.location }}"
                    alt="Gallery image"
                    class="thumb"
                    loading="lazy">
            {% endfor %}
        </div>
    {% else %}
        <p>No photos found for this year.</p>
    {% endif %}

    <br><hr>

    <!-- Image overlay modal -->
    <div class="overlay" id="imageOverlay">
        <span class="close-btn">&times;</span>

        <div class="overlay-content">
            <img id="fullImage" src="" alt="Full-size view">
            <p id="photoLocation" class="location-text">
                <span>&#128205;</span>
                <span id="photoLocationText"></span>
            </p>
        </div>
    </div>
</div>
{% endblock %}


{% block js %}
<script src="{% static 'gallery/js/gallery.js' %}"></script>
{% endblock %}